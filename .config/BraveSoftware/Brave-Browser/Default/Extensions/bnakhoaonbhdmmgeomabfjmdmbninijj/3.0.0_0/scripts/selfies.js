!function(e){var t={};function n(l){if(t[l])return t[l].exports;var o=t[l]={i:l,l:!1,exports:{}};return e[l].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(l,o,function(t){return e[t]}.bind(null,o));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}({5:function(e,t){document.addEventListener("DOMContentLoaded",(function(){let e=.4*screen.width,t=0,n="none",l="none";collection={};const o=document.getElementById("video"),i=document.getElementById("canvas"),s=document.getElementById("photos"),a=document.getElementById("myRange"),r=document.getElementById("save-btn"),c=document.getElementById("photo-btn"),d=document.getElementById("clear-btn"),u=document.getElementById("photo-filter"),y=document.getElementById("help-msg"),m=document.getElementById("myModal"),f=document.getElementById("close-modal"),p=document.getElementById("close-modal-btn"),g=document.getElementById("download-link");a.style.display="none";let b=chrome.extension.getBackgroundPage();$("body").attr("data-status",b?.status),navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{o.srcObject=e,o.play()}).catch(e=>{console.log("Error : "+e)}),o.addEventListener("canplay",n=>{e<=400&&(e=400),t=o.videoHeight/(o.videoWidth/e),o.setAttribute("height",t),o.setAttribute("width",e),i.setAttribute("height",t),i.setAttribute("width",e)},!1);let h,v,k,E=null;$(".slick-slider").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,focusOnSelect:!0}),chromeStorageLocalGet(["collection"]).then(e=>{collection=e.collection,$(".slick-slider .slick-slide.slick-current").removeClass("slick-current"),$(".slick-slider").on("afterChange",(e,t,n)=>{$("#photo-btn").removeAttr("disabled"),$("#clear-btn").removeAttr("disabled"),E=collection[n],I()})});const I=function(){if(E){switch(E.sname){case"none":a.style.display="none",y.style.display="block",o.style.filter="none";break;case"blur":h=0,v=35,k=10,a.style.display="block",y.style.display="none",l=E.sname+`(${k}px)`,o.style.filter=l;break;case"hue-rotate":h=0,v=360,k=90,l=E.sname+`(${k}deg)`,a.style.display="block",y.style.display="none",o.style.filter=l;break;case"contrast":h=100,v=1e3,k=300,l=E.sname+`(${k}%)`,a.style.display="block",y.style.display="none",o.style.filter=l;break;default:h=0,v=100,k=80,a.style.display="block",y.style.display="none",l=E.sname+`(${k}%)`,o.style.filter=l}a.min=h,a.max=v,a.value=k}};a.oninput=function(){switch(console.log(this.value),E.sname){case"none":a.style.display="none";break;case"blur":k=this.value,l=E.sname+`(${k}px)`,o.style.filter=l;break;case"contrast":k=this.value,l=E.sname+`(${k}%)`,o.style.filter=l;break;case"hue-rotate":k=this.value,l=E.sname+`(${k}deg)`,o.style.filter=l;break;default:k=this.value,l=E.sname+`(${k}%)`,o.style.filter=l}},d.addEventListener("click",e=>{n="none",o.style.filter=n,a.style.display="none",s.innerHTML="",u.selectedIndex=0,e.preventDefault()});let B=null;c.addEventListener("click",n=>{!function(){const n=i.getContext("2d");if(s.innerHTML="",e&&t){i.width=e,i.height=t,n.drawImage(o,0,0,e,t),B=i.toDataURL("image.png");const a=document.createElement("img");a.setAttribute("src",B),a.style.filter=l,s.appendChild(a),m.style.display="block"}}(),n.preventDefault()},!1);let w=function(){m.style.display="none",B=null};f.onclick=w,p.onclick=w,r.onclick=()=>{B&&(g.setAttribute("download","your_selfie.png"),g.setAttribute("href",i.toDataURL("image/png").replace("image/png","image/octet-stream")),g.click())},window.onclick=function(e){e.target==m&&(m.style.display="none")}}))}});